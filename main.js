(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8533:(t,e,n)=>{"use strict";var r=n(2092).forEach,o=n(9341),i=n(9207),s=o("forEach"),a=i("forEach");t.exports=s&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},1318:(t,e,n)=>{var r=n(5656),o=n(7466),i=n(1400),s=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:(t,e,n)=>{var r=n(9974),o=n(8361),i=n(7908),s=n(7466),a=n(5417),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=7==t,h=5==t||f;return function(v,p,m,g){for(var y,b,E=i(v),x=o(E),S=r(p,m,3),C=s(x.length),w=0,L=g||a,k=e?L(v,C):n||d?L(v,0):void 0;C>w;w++)if((h||w in x)&&(b=S(y=x[w],w,E),t))if(e)k[w]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:c.call(k,y)}else switch(t){case 4:return!1;case 7:c.call(k,y)}return f?-1:u||l?l:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},9207:(t,e,n)=>{var r=n(9781),o=n(7293),i=n(6656),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(i(a,t))return a[t];e||(e={});var n=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return a[t]=!!n&&!o((function(){if(u&&!r)return!0;var t={length:-1};u?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)}))}},5417:(t,e,n)=>{var r=n(111),o=n(3157),i=n(5112)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,n)=>{var r=n(6656),o=n(3887),i=n(1236),s=n(3070);t.exports=function(t,e){for(var n=o(e),a=s.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},8880:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),o=n(111),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),s=n(1320),a=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,l,f,d,h,v=t.target,p=t.global,m=t.stat;if(n=p?r:m?r[v]||a(v,{}):(r[v]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(p?l:v+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),s(n,l,d,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(857),o=n(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},4664:(t,e,n)=>{var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),o=n(4326),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,o,i,s=n(8536),a=n(7854),c=n(111),u=n(8880),l=n(6656),f=n(5465),d=n(6200),h=n(3501),v=a.WeakMap;if(s){var p=f.state||(f.state=new v),m=p.get,g=p.has,y=p.set;r=function(t,e){return e.facade=t,y.call(p,t,e),e},o=function(t){return m.call(p,t)||{}},i=function(t){return g.call(p,t)}}else{var b=d("state");h[b]=!0,r=function(t,e){return e.facade=t,u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),o=/#|\.prototype\./,i=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},133:(t,e,n)=>{var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:(t,e,n)=>{var r=n(7854),o=n(2788),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},3070:(t,e,n)=>{var r=n(9781),o=n(4664),i=n(9670),s=n(7593),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),o=n(5296),i=n(9114),s=n(5656),a=n(7593),c=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,n)=>{var r=n(6656),o=n(5656),i=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},1956:(t,e,n)=>{var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4699:(t,e,n)=>{var r=n(9781),o=n(1956),i=n(5656),s=n(5296).f,a=function(t){return function(e){for(var n,a=i(e),c=o(a),u=c.length,l=0,f=[];u>l;)n=c[l++],r&&!s.call(a,n)||f.push(t?[n,a[n]]:a[n]);return f}};t.exports={entries:a(!0),values:a(!1)}},3887:(t,e,n)=>{var r=n(5005),o=n(8006),i=n(5181),s=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},1320:(t,e,n)=>{var r=n(7854),o=n(8880),i=n(6656),s=n(3505),a=n(2788),c=n(9909),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var c,u=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(c=l(n)).source||(c.source=f.join("string"==typeof e?e:""))),t!==r?(u?!h&&t[e]&&(d=!0):delete t[e],d?t[e]=n:o(t,e,n)):d?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),o=n(8880);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},6200:(t,e,n)=>{var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,n)=>{var r=n(7854),o=n(3505),i="__core-js_shared__",s=r[i]||o(i,{});t.exports=s},2309:(t,e,n)=>{var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6091:(t,e,n)=>{var r=n(7293),o=n(1361);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},3111:(t,e,n)=>{var r=n(4488),o="["+n(1361)+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),a=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},1400:(t,e,n)=>{var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:(t,e,n)=>{var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),o=n(2309),i=n(6656),s=n(9711),a=n(133),c=n(3307),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||s;t.exports=function(t){return i(u,t)||(a&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},1361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9554:(t,e,n)=>{"use strict";var r=n(2109),o=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},9720:(t,e,n)=>{var r=n(2109),o=n(4699).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},3210:(t,e,n)=>{"use strict";var r=n(2109),o=n(3111).trim;r({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return o(this)}})},4747:(t,e,n)=>{var r=n(7854),o=n(8324),i=n(8533),s=n(8880);for(var a in o){var c=r[a],u=c&&c.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(t){u.forEach=i}}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,o;return n=e,(r=[{key:"init",value:function(){this.addElements()}},{key:"addElements",value:function(){this.addForm()}},{key:"addForm",value:function(){this.form=document.createElement("form"),this.form.classList.add("form"),this.addFormMarkup()}},{key:"addFormMarkup",value:function(){this.form.innerHTML='\n    <textarea class="form-message" rows=\'5\' placeholder=\'Напишите что-нибудь\'></textarea>\n    <div class="form-controls">\n      <button class="button button-form button-form-add">Add Card</button>\n      <button class="button button-form button-form-cancel">✗</button>\n    </div>\n    '}},{key:"getForm",value:function(){return this.init(),this.form}}])&&t(n.prototype,r),o&&t(n,o),e}();function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"addCard",value:function(t){this.card=document.createElement("div"),this.card.classList.add("card"),this.getMarkup(t)}},{key:"getMarkup",value:function(t){this.card.innerHTML='\n    <div class="card-content">'.concat(t,"</div>\n    <button class='button button-card-delete'>✗</button>\n    <button class='button button-card-deleteConfirm'>Delete ?</button>\n    ")}},{key:"getCard",value:function(t){return this.addCard(t),this.card}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=null}var e,n,r;return e=t,(n=[{key:"addBoard",value:function(){this.board=document.createElement("div"),this.board.classList.add("board"),this.getMarkup()}},{key:"getMarkup",value:function(){this.board.innerHTML='\n    <div class="column column-todo" data-column=\'todo\'>\n      <h2 class="title">todo</h2>\n      <div class="content"></div>\n      <button class="button button-add">Add another card</button>\n      <div class="wrapper-form"></div>\n    </div>\n    <div class="column column-in-progress" data-column=\'inProgress\'>\n      <h2 class="title">in progress</h2>\n      <div class="content"></div>\n      <button class="button button-add">Add another card</button>\n      <div class="wrapper-form"></div>\n    </div>\n    <div class="column column-done" data-column=\'done\'>\n      <h2 class="title">done</h2>\n      <div class="content"></div>\n      <button class="button button-add">Add another card</button>\n      <div class="wrapper-form"></div>\n    </div>\n    '}},{key:"getBoard",value:function(){return this.addBoard(),this.board}}])&&i(e.prototype,n),r&&i(e,r),t}();n(9554),n(3210),n(4747);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e.getBoard(),this.card=n,this.form=r,this.body=document.getElementsByTagName("body")[0]}var e,n,r;return e=t,r=[{key:"deleteCard",value:function(t){t.closest(".content").removeChild(t.closest(".card"))}}],(n=[{key:"init",value:function(){this.addElements(),this.body.insertAdjacentElement("afterbegin",this.container),this.container.appendChild(this.board)}},{key:"addElements",value:function(){this.addContainer()}},{key:"addContainer",value:function(){this.container=document.createElement("div"),this.container.classList.add("container")}},{key:"hideForm",value:function(){this.container.getElementsByClassName("wrapper-form").forEach((function(t){t.innerHTML=""}))}},{key:"resetButtonsAdd",value:function(){this.container.getElementsByClassName("button-add").forEach((function(t){t.style.display="block"}))}},{key:"resetView",value:function(){this.hideForm(),this.resetButtonsAdd()}},{key:"showForm",value:function(t){this.resetView(),t.style.display="none",t.nextElementSibling.appendChild(this.form.getForm()),this.board.querySelector(".form-message").focus()}},{key:"addCard",value:function(t){var e=t.closest(".form").querySelector(".form-message").value;e.trim()?(t.closest(".column").querySelector(".content").appendChild(this.card.getCard(e)),this.resetView()):this.board.querySelector(".form-message").focus()}},{key:"addAllCards",value:function(t,e){var n=this,r=this.board.querySelector("[data-column=".concat(t,"]")).querySelector(".content");e.forEach((function(t){r.appendChild(n.card.getCard(t))}))}},{key:"resetButtonsDelete",value:function(){this.container.getElementsByClassName("button-card-delete").forEach((function(t){t.removeAttribute("style")})),this.container.getElementsByClassName("button-card-deleteConfirm").forEach((function(t){t.style.display="none"}))}},{key:"showConfirmDelete",value:function(t){this.resetButtonsDelete(),t.style.display="none",t.nextElementSibling.style.display="block"}},{key:"showHint",value:function(t,e){var n=this.form.querySelector(".field-".concat(t)),r=n.nextElementSibling;r.textContent=e,r.style.top="".concat(n.closest(".label").getBoundingClientRect().top-10,"px"),r.style.left="".concat(n.getBoundingClientRect().right-r.getBoundingClientRect().width,"px"),r.classList.add("hint-active")}},{key:"resetHint",value:function(){this.form.querySelectorAll(".hint").forEach((function(t){t.textContent="",t.classList.remove("hint-active")}))}}])&&a(e.prototype,n),r&&a(e,r),t}();n(9720);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=e,this.storage=localStorage,this.allCards={},this.funcMouseOver=this.mouseOver.bind(this)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.resetEl(),this.elements.init(),this.loadCards(),this.addListeners()}},{key:"addListeners",value:function(){this.elements.container.addEventListener("click",this.clickLogic.bind(this)),this.elements.board.addEventListener("mousedown",this.mouseDown.bind(this)),this.elements.board.addEventListener("mousemove",this.mouseMove.bind(this)),this.elements.board.addEventListener("mouseleave",this.mouseLeave.bind(this)),this.elements.board.addEventListener("mouseup",this.mouseUp.bind(this)),this.addContentsListener()}},{key:"addContentsListener",value:function(){var t=this;this.elements.board.querySelectorAll(".content").forEach((function(e){e.addEventListener("mouseover",t.funcMouseOver)}))}},{key:"resetEl",value:function(){this.dragEl=null,this.testEl=null,this.ghostEl=null,this.elements.board.removeAttribute("style")}},{key:"clickLogic",value:function(t){t.preventDefault(),this.elements.resetButtonsDelete(),t.target.classList.contains("button-add")&&this.elements.showForm(t.target),t.target.classList.contains("button-form-add")&&this.elements.addCard(t.target),t.target.classList.contains("button-form-cancel")&&this.elements.resetView(),t.target.classList.contains("button-card-delete")&&this.elements.showConfirmDelete(t.target),t.target.classList.contains("button-card-deleteConfirm")&&this.elements.constructor.deleteCard(t.target),this.saveCards()}},{key:"mouseDown",value:function(t){if(t.target.closest(".card")&&!t.target.classList.contains("button-card-delete")&&!t.target.classList.contains("button-card-deleteConfirm")){t.preventDefault(),this.dragEl=t.target.closest(".card"),this.testEl=this.dragEl.cloneNode(!0),this.testEl.classList.add("test"),this.ghostEl=this.dragEl.cloneNode(!0),this.ghostEl.classList.add("dragged");var e=this.dragEl.getBoundingClientRect(),n=e.top,r=e.left;this.topDiff=t.pageY-n,this.leftDiff=t.pageX-r,this.elements.container.appendChild(this.ghostEl),this.ghostEl.style.left="".concat(r,"px"),this.ghostEl.style.top="".concat(n,"px"),this.ghostEl.style.width="".concat(this.dragEl.offsetWidth,"px"),this.saveDragElPosition(),this.ghostEl.style.cursor="grabbing"}}},{key:"saveDragElPosition",value:function(){this.parent=this.dragEl.closest(".content"),this.sibling=this.dragEl.nextElementSibling,this.parent.removeChild(this.dragEl)}},{key:"mouseMove",value:function(t){this.dragEl&&(t.preventDefault(),this.elements.board.style.cursor="grabbing",this.ghostEl.style.left="".concat(t.pageX-this.leftDiff,"px"),this.ghostEl.style.top="".concat(t.pageY-this.topDiff,"px"))}},{key:"mouseUp",value:function(t){if(this.dragEl){if(!this.elements.board.querySelector(".test"))return this.elements.container.removeChild(this.ghostEl),void this.resetEl();t.target.closest(".content")?(this.testEl.classList.remove("test"),this.saveCards()):(this.testEl.closest(".content").removeChild(this.testEl),this.parent.insertBefore(this.dragEl,this.sibling)),this.elements.container.removeChild(this.ghostEl),this.resetEl()}}},{key:"mouseLeave",value:function(){this.dragEl&&(this.testEl.closest(".content").removeChild(this.testEl),this.elements.container.removeChild(this.ghostEl),this.parent.insertBefore(this.dragEl,this.sibling),this.resetEl())}},{key:"mouseOver",value:function(t){if(this.ghostEl){t.target.closest(".content").hasChildNodes()||t.target.closest(".content").appendChild(this.testEl);var e=t.target.closest(".card");if(e){var n=e.getBoundingClientRect().top;t.pageY>window.scrollY+n+e.offsetHeight/2?t.target.closest(".content").insertBefore(this.testEl,e.nextElementSibling):t.target.closest(".content").insertBefore(this.testEl,e)}}}},{key:"clearStorage",value:function(){this.storage.removeItem("boardToDo")}},{key:"saveCards",value:function(){var t=this;this.elements.board.getElementsByClassName("column").forEach((function(e){t.allCards[e.dataset.column]=[]})),this.elements.board.getElementsByClassName("card-content").forEach((function(e){var n=e.closest(".column");t.allCards[n.dataset.column].push(e.textContent)})),this.storage.getItem("boardToDo")&&this.clearStorage(),this.storage.setItem("boardToDo",JSON.stringify(this.allCards))}},{key:"loadCards",value:function(){if(this.storage.getItem("boardToDo")){this.allCards=JSON.parse(this.storage.getItem("boardToDo"));for(var t=0,e=Object.entries(this.allCards);t<e.length;t++){var n=u(e[t],2),r=n[0],o=n[1];this.elements.addAllCards(r,o)}}}}])&&f(e.prototype,n),r&&f(e,r),t}(),h=new o;new d(new c(new s,h,new e)).init()})()})();